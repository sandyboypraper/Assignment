<!DOCTYPE html>
<html>

<head>
  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Import materialize.css-->
  <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />
  <link type="text/css" rel="stylesheet" href="css/main.css" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt"
    crossorigin="anonymous">
  <link rel="stylesheet" href="css/animate.css">
  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UpgradPhone_Directory</title>
</head>

    <body>

       <section class="container">
       	   <h1 class="Hed center">Phone Dir</h1>


       	   <div class = "row">

       	   	   <div class = "col s12 m6 offset-m3 l6 offset-l3 z-depth-3 myblock">
						       	   	   	 
						    <div class="input-field">

						      <input value="" id="name" class="smallHed" type="text" class="validate">
						      <label class="active" for="name">Name</label>

						       
						    
						    </div>

						      <div class="input-field">

						      <input value="" id="ph" class="smallHed" type="text" class="validate">
						      <label class="active" for="ph">Ph-No</label>

						       
						    
						    </div>
						  
       	   	   </div>

       	   	   <div class="col s12 m6 offset-m3 l6 offset-l3">
       	   	   	           <div class="input-field right myblock">

						    <button class="btn waves-effect waves-white light-green lighten-4 smallHed black-text" onclick="addno()">ADD</button>
						    
						    </div>

						     <div class="input-field left myblock">

						    <a href = "dir.html" class="btn-floating waves-effect waves-light light-green lighten-4 "><i class="material-icons black-text">collections</i></a>
        
						    
						    </div>
       	   	   </div>

       	   	
       	   </div>
       </section>

     <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>     
    <script type="text/javascript" src="js/materialize.min.js"></script>  
    <script>

    	
           document.getElementById("name").value = null;
           document.getElementById("ph").value = null;

    	var data = (localStorage.getItem('dirr'))?(JSON.parse(localStorage.getItem('dirr'))):{
    
            directory : []
    
       };

       
    	function addno(){

    		console.log("heyy");
    		var name = document.getElementById("name").value;
    		var ph = document.getElementById("ph").value;

    		// console.log(name + " " + ph);

    		if(name && ph){

    			for(var i = 0;i<data.directory.length;i++)
    			{
    				var arr = data.directory[i].split("/");
    				var n = arr[0];

    				if(name == n)
    				{
    					Materialize.toast('this name is already present', 1000);
    					document.getElementById("name").focus();
    					return;
    				}
    			}

    			console.log(name + " " + ph);
    		    
    			data.directory.unshift(name+"/"+ph);

    			localStorage.setItem('dirr' , JSON.stringify(data));

    			Materialize.toast('contact added', 1000);
    	    }

    	  
           document.getElementById("name").value = null;
           document.getElementById("ph").value = null;
    	   // console.log(localStorage.getItem("dirr"));

    	 // localStorage.clear();

    	}

		
    </script>
</body>

</html>